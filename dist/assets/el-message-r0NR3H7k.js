import{b as W,d as $,_ as I,e as T,u as X,f as g,a as B,h as R,j as M,o as m,l as H,I as L,p as w,B as Q,x as z,n as J,m as n,s as y,y as pe,z as K,X as Y,T as P,t as ee,k as h,U as fe,cQ as ge,ak as me,aX as se,i as ye,cR as ve,r as _,cS as he,cT as U,Z as Ce,w as Te,aW as be,am as we,v as x,E as Z,q as Be,G as Ee,V as Se,cU as _e,b5 as xe,ao as $e,au as He,g as j,a7 as te,a8 as O,a$ as q,cV as G,c5 as Ne,cW as ke}from"./index-Kp9RDb7Z.js";const Me=W({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:$([String,Object,Array])},offset:{type:$(Array),default:[0,0]},badgeClass:{type:String}}),ze=T({name:"ElBadge"}),Oe=T({...ze,props:Me,setup(a,{expose:l}){const s=a,t=X("badge"),e=g(()=>s.isDot?"":B(s.value)&&B(s.max)?s.max<s.value?`${s.max}+`:`${s.value}`:`${s.value}`),d=g(()=>{var o,u,v,b,f;return[{backgroundColor:s.color,marginRight:R(-((u=(o=s.offset)==null?void 0:o[0])!=null?u:0)),marginTop:R((b=(v=s.offset)==null?void 0:v[1])!=null?b:0)},(f=s.badgeStyle)!=null?f:{}]});return l({content:e}),(o,u)=>(m(),M("div",{class:y(n(t).b())},[H(o.$slots,"default"),L(P,{name:`${n(t).namespace.value}-zoom-in-center`,persisted:""},{default:w(()=>[Q(z("sup",{class:y([n(t).e("content"),n(t).em("content",o.type),n(t).is("fixed",!!o.$slots.default),n(t).is("dot",o.isDot),n(t).is("hide-zero",!o.showZero&&s.value===0),o.badgeClass]),style:J(n(d))},[H(o.$slots,"content",{value:n(e)},()=>[pe(K(n(e)),1)])],6),[[Y,!o.hidden&&(n(e)||o.isDot||o.$slots.content)]])]),_:3},8,["name"])],2))}});var Ie=I(Oe,[["__file","badge.vue"]]);const Le=ee(Ie),Pe=T({name:"ElCollapseTransition"}),De=T({...Pe,setup(a){const l=X("collapse-transition"),s=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},t={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){s(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){s(e)},leaveCancelled(e){s(e)}};return(e,d)=>(m(),h(P,fe({name:n(l).b()},ge(t)),{default:w(()=>[H(e.$slots,"default")]),_:3},16,["name"]))}});var Ve=I(De,[["__file","collapse-transition.vue"]]);const es=ee(Ve),p={},oe=["success","info","warning","error"],r=me({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:se?document.body:void 0}),Ae=W({customClass:{type:String,default:r.customClass},dangerouslyUseHTMLString:{type:Boolean,default:r.dangerouslyUseHTMLString},duration:{type:Number,default:r.duration},icon:{type:ye,default:r.icon},id:{type:String,default:r.id},message:{type:$([String,Object,Function]),default:r.message},onClose:{type:$(Function),default:r.onClose},showClose:{type:Boolean,default:r.showClose},type:{type:String,values:oe,default:r.type},plain:{type:Boolean,default:r.plain},offset:{type:Number,default:r.offset},zIndex:{type:Number,default:r.zIndex},grouping:{type:Boolean,default:r.grouping},repeatNum:{type:Number,default:r.repeatNum}}),Fe={destroy:()=>!0},c=ve([]),Re=a=>{const l=c.findIndex(e=>e.id===a),s=c[l];let t;return l>0&&(t=c[l-1]),{current:s,prev:t}},Ue=a=>{const{prev:l}=Re(a);return l?l.vm.exposed.bottom.value:0},Ze=(a,l)=>c.findIndex(t=>t.id===a)>0?16:l,je=T({name:"ElMessage"}),qe=T({...je,props:Ae,emits:Fe,setup(a,{expose:l,emit:s}){const t=a,{Close:e}=_e,d=_(!1),{ns:o,zIndex:u}=he("message"),{currentZIndex:v,nextZIndex:b}=u,f=_(),E=_(!1),D=_(0);let N;const ae=g(()=>t.type?t.type==="error"?"danger":t.type:"info"),le=g(()=>{const i=t.type;return{[o.bm("icon",i)]:i&&U[i]}}),V=g(()=>t.icon||U[t.type]||""),ie=g(()=>Ue(t.id)),A=g(()=>Ze(t.id,t.offset)+ie.value),re=g(()=>D.value+A.value),de=g(()=>({top:`${A.value}px`,zIndex:v.value}));function k(){t.duration!==0&&({stop:N}=xe(()=>{S()},t.duration))}function F(){N==null||N()}function S(){E.value=!1,$e(()=>{var i;d.value||((i=t.onClose)==null||i.call(t),s("destroy"))})}function ue({code:i}){i===He.esc&&S()}return Ce(()=>{k(),b(),E.value=!0}),Te(()=>t.repeatNum,()=>{F(),k()}),be(document,"keydown",ue),we(f,()=>{D.value=f.value.getBoundingClientRect().height}),l({visible:E,bottom:re,close:S}),(i,Ke)=>(m(),h(P,{name:n(o).b("fade"),onBeforeEnter:ce=>d.value=!0,onBeforeLeave:i.onClose,onAfterLeave:ce=>i.$emit("destroy"),persisted:""},{default:w(()=>[Q(z("div",{id:i.id,ref_key:"messageRef",ref:f,class:y([n(o).b(),{[n(o).m(i.type)]:i.type},n(o).is("closable",i.showClose),n(o).is("plain",i.plain),i.customClass]),style:J(n(de)),role:"alert",onMouseenter:F,onMouseleave:k},[i.repeatNum>1?(m(),h(n(Le),{key:0,value:i.repeatNum,type:n(ae),class:y(n(o).e("badge"))},null,8,["value","type","class"])):x("v-if",!0),n(V)?(m(),h(n(Z),{key:1,class:y([n(o).e("icon"),n(le)])},{default:w(()=>[(m(),h(Be(n(V))))]),_:1},8,["class"])):x("v-if",!0),H(i.$slots,"default",{},()=>[i.dangerouslyUseHTMLString?(m(),M(Ee,{key:1},[x(" Caution here, message could've been compromised, never use user's input as message "),z("p",{class:y(n(o).e("content")),innerHTML:i.message},null,10,["innerHTML"])],2112)):(m(),M("p",{key:0,class:y(n(o).e("content"))},K(i.message),3))]),i.showClose?(m(),h(n(Z),{key:2,class:y(n(o).e("closeBtn")),onClick:Se(S,["stop"])},{default:w(()=>[L(n(e))]),_:1},8,["class","onClick"])):x("v-if",!0)],46,["id"]),[[Y,E.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var Ge=I(qe,[["__file","message.vue"]]);let We=1;const ne=a=>{const l=!a||j(a)||te(a)||O(a)?{message:a}:a,s={...r,...l};if(!s.appendTo)s.appendTo=document.body;else if(j(s.appendTo)){let t=document.querySelector(s.appendTo);Ne(t)||(t=document.body),s.appendTo=t}return q(p.grouping)&&!s.grouping&&(s.grouping=p.grouping),B(p.duration)&&s.duration===3e3&&(s.duration=p.duration),B(p.offset)&&s.offset===16&&(s.offset=p.offset),q(p.showClose)&&!s.showClose&&(s.showClose=p.showClose),s},Xe=a=>{const l=c.indexOf(a);if(l===-1)return;c.splice(l,1);const{handler:s}=a;s.close()},Qe=({appendTo:a,...l},s)=>{const t=`message_${We++}`,e=l.onClose,d=document.createElement("div"),o={...l,id:t,onClose:()=>{e==null||e(),Xe(f)},onDestroy:()=>{G(null,d)}},u=L(Ge,o,O(o.message)||te(o.message)?{default:O(o.message)?o.message:()=>o.message}:null);u.appContext=s||C._context,G(u,d),a.appendChild(d.firstElementChild);const v=u.component,f={id:t,vnode:u,vm:v,handler:{close:()=>{v.exposed.close()}},props:u.component.props};return f},C=(a={},l)=>{if(!se)return{close:()=>{}};const s=ne(a);if(s.grouping&&c.length){const e=c.find(({vnode:d})=>{var o;return((o=d.props)==null?void 0:o.message)===s.message});if(e)return e.props.repeatNum+=1,e.props.type=s.type,e.handler}if(B(p.max)&&c.length>=p.max)return{close:()=>{}};const t=Qe(s,l);return c.push(t),t.handler};oe.forEach(a=>{C[a]=(l={},s)=>{const t=ne(l);return C({...t,type:a},s)}});function Je(a){const l=[...c];for(const s of l)(!a||a===s.props.type)&&s.handler.close()}C.closeAll=Je;C._context=null;const ss=ke(C,"$message");export{ss as E,es as a};

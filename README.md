# 北交大课程平台优化版


[![Vue3](https://img.shields.io/badge/Vue3-4FC08D?logo=vuedotjs&logoColor=white)](https://vuejs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-3178C6?logo=typescript&logoColor=white)](https://www.typescriptlang.org/)

> 基于官方接口重构的现代化课程平台 二次开发 性能与体验全面升级 支持多端适配 功能聚合 

**点击访问:** [课程平台魔改版 (57d02.cn)](http://hw.57d02.cn:8080/)

注：部署在BJTU主校区10.60网段内，需要10.61网段ip才能够访问

（人话：请连接连接 phone.wlan.bjtu）

## 🌟核心功能增强

- 🐞 **历史问题修复**：解决原平台作业批改后分数/评语不显示的问题

	- ![image-20250503171201299](https://resource-un4.pages.dev/article/image-20250503171201299.png)

- 🚀 **创新功能扩展**：

  - **待办列表**
  	- ![58d19fdb19aa81c20d4aa7bdcf5f2f8](https://resource-un4.pages.dev/article/58d19fdb19aa81c20d4aa7bdcf5f2f8.png)

  - **成绩排名** (妈妈再也不怕我卷不起来了😤)
  	- ![fc9b1f2d5ba80ee41254b1ec91584bf](https://resource-un4.pages.dev/article/fc9b1f2d5ba80ee41254b1ec91584bf.png)


  - **优秀作业参考** （自动取出前五的作业，方便大家学习、对比、找差距🤔）
  	- ![1746263604848](https://resource-un4.pages.dev/article/1746263604848.png)
  - **偷看作业**（实在没思路怎么办？看看交了的同学这么做的😝）
  	- ![7b83d73f2c3aa8ad285e556cf93e784](https://resource-un4.pages.dev/article/7b83d73f2c3aa8ad285e556cf93e784.png)
- 📱 **全端适配**：支持PC/平板/手机等移动设备（美不美观不重要，比原平台好用点，至少比例对了🤗）

- 🧩 **功能聚合**：
  - 作业管理（查看/提交）
  - 实时课表（当日剩余视图）
  - 课程直播集成（看看老师点没点名😢）
  	- 其实没做

  - 统一身份认证（目前只用于登入认证，懒得做其他的）

### 🚄 性能优化
- ⚡ **网络请求优化**：并发请求池（太高并发别把学校服务器搞炸了😐）
  
- **⚡ 异步任务优化**：异步任务队列，实现有序懒加载
  
- 🖥️ **渲染优化**：
  - 骨架屏延迟DOM渲染，避免动画和网络请求资源竞争。（时间上的负载均衡多了）
  
  	![image-20250504234025262](https://resource-un4.pages.dev/article/image-20250504234025262.png)
  
- **缓存优化**：
  
  - 优先展示缓存的数据，后台异步更新数据。
    - 时间戳缓存当日课表，一日一更。
  
    - 每次打开都会尝试更新数据，但由于是懒更新，因此会先展示缓存的数据，出现“数据更新完成”提示后才是最新的数据。
  
- 🔗 **多源接口聚合**：

  通过nginx代理实现跨域接口调用

| 接口来源    | 开发方式       | 功能模块      |
| ----------- | -------------- | ------------- |
| 原课程平台  | F12网络分析    | 作业/成绩相关 |
| 轻新课堂APP | 小蓝鸟抓包逆向 | 实时课表/直播 |
| CAS认证系统 | F12网络分析    | 统一身份认证  |

  ```mermaid
  graph LR
    C -->|Nginx代理| A[网页端接口]
    C -->|Nginx代理| B[轻新课堂APP接口]
    C -->|Nginx代理| D[CAS认证接口]
    E{用户终端} --> C[前端服务]
  ```

### 🔒 安全体系

- 🔐 **数据加密**：
  - AES-256-CBC加密存储用户凭证
- 🛡️ **会话保护**：
  - 会话自动重连机制

### 🥰 兼容性优化

#### 🌐 多浏览器支持方案

 - postcss@8.4+              # CSS转换核心
 - postcss-preset-env  # 未来CSS语法支持
 - autoprefixer@10.4+       # 自动补全CSS前缀

## 🚀 部署方式

由于本人家境贫寒，没有服务器可租用，因此临时利用妈妈的旧手机（HUAWEI 畅想10），使用nginx反向代理到校园局域网。

注意：为避免接口滥用，上传的项目中屏蔽了平台接口的调用方式。（想要自己抓去）

### 关键功能路径

```mermaid
%%{init: {'theme': 'neutral', 'themeVariables': { 'primaryColor': '#F6F6F6'}}}%%
graph TD
    A[用户认证] --> B{认证方式}
    B -->|CAS认证| C[调用统一认证接口]
    B -->|平台密码| D[调用原平台接口]
    C --> E[认证结果处理]
    D --> E
    E --> F[进入主页]

    F --> G[作业数据处理]
    G --> H{是否有缓存?}
    H -->|是| I[展示缓存数据]
    H -->|否| J[直接获取新数据]
    I --> K[后台发起数据更新]
    K --> L[更新完成替换最新数据]
    J --> L

    F --> M[课表数据处理]
    M --> N{是否有缓存?}
    N -->|是| O[检查缓存日期]
    N -->|否| P[获取数据并缓存<br/>带时间戳]
    O --> Q{是否当天?}
    Q -->|是| R[使用缓存数据]
    Q -->|否| S[获取新数据更新缓存]
    P --> R
    S --> R

    style A fill:#4CAF50,color:white
    style B fill:#FFC107,color:black
    style G fill:#2196F3,color:white
    style M fill:#9C27B0,color:white
```

### 常见问题处理
- 🔄 **服务重连机制**：
  1. 打开侧边栏，自动进行服务状态检查
  4. 持续重连失败需重新登录
  
- 🔑 **密码同步问题**：
  
  使用统一认证登入时无法调用app接口，解决方案（任选其一）：
  
  1. 课程平台的密码与认证密码同步(侧边栏提供操作接口)
  2. 使用课程平台账号密码登入



## 📜 开源协议
本项目采用 [MIT License](LICENSE)，请遵守以下条款：
- 禁止将本项目用于商业用途
- 引用代码需保留原始版权声明
- 不得恶意攻击官方服务器

> 💡 本系统为教学研究项目，开发者不对滥用行为负责